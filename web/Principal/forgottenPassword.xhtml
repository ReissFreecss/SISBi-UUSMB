<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
          
      xmlns:p="http://primefaces.org/ui">
    
      <h:head>
          <link rel="icon" type="image/png" href="../resources/images/logoch.png" />
        <title>Recuperacion de contraseña</title>
        <p:button icon="ui-icon-circle-arrow-w" outcome="/index" value="Volver" />
       <h:outputStylesheet library="css" name="jsfcrud.css"/>
    </h:head>
    <h:form id="form"> 
    <body>
         <div align="center">
        
    <br/>
    <br/>
             <h1>Recuperacion de contraseña</h1>
             
                        
             <img src="../resources/images/contraseña.png" width="200" height="200" ></img>
                   
             
        <h2>Para la recuperación de su contraseña proporcione el correo electrónico con el que creó su cuenta.</h2>
         <p:messages id="messages"  showDetail="false" autoUpdate="true" />
        <h:panelGrid columns="3">
             <p:outputLabel for="txtUsuario" value="Email:"/>
             <p:inputText id="txtUsuario" value="#{usersController.selected.email}" required="true" requiredMessage="Introduzca el correo electronico" />
             <p:commandButton  value="Recuperar contraseña" oncomplete="PF('passDialog').show()" >
              <f:actionListener binding="#{usersController.restorePass()}"/>
             </p:commandButton>
             
             
             <p:dialog header="Información importante" widgetVar="password" modal="true"  resizable="false" draggable="false">
                       <p:outputPanel  style="text-align:center;">
                       <h:panelGrid columns="1" >
                          <p:outputLabel  value="Contraseña actualizada satisfactoriamente: " style="font-size: large; font-family:'politica'" />
                          <p:outputLabel  value="Se le ha enviado un correo electrónico a la dirección proporcionada con la nueva contraseña." style="font-size: large; font-family:'politica'" /><br/>
                          <p:outputLabel  value="Puede cambiar la contraseña cuando desee en la sección 'Mi Perfil'" style="font-size: large; font-family:'politica'" /><br/>
                           
                         
                           <p:button outcome="/index" value="Aceptar" />
                          
                        </h:panelGrid>
                            
                              </p:outputPanel>
                    </p:dialog> 
 
        </h:panelGrid>
        
         
         </div>
    </body>
        </h:form>
</html>
